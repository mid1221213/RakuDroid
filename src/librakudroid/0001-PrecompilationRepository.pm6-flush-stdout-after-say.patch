From 375b6c304c56888b50458e77a42cce5d59b39169 Mon Sep 17 00:00:00 2001
From: Alexandre Jousset <mid@gtmp.org>
Date: Tue, 26 Nov 2019 00:55:59 +0100
Subject: [PATCH] PrecompilationRepository.pm6: flush stdout after say

---
 src/core.c/CompUnit/PrecompilationRepository.pm6 | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/core.c/CompUnit/PrecompilationRepository.pm6 b/src/core.c/CompUnit/PrecompilationRepository.pm6
index 82cc5aab5..b2b7ca37b 100644
--- a/src/core.c/CompUnit/PrecompilationRepository.pm6
+++ b/src/core.c/CompUnit/PrecompilationRepository.pm6
@@ -55,6 +55,7 @@ class CompUnit::PrecompilationRepository::Default does CompUnit::PrecompilationR
             if $handle {
                 $dependency.checksum = $checksum;
                 say $dependency.serialize;
+		$*OUT.flush;
             }
             else {
                 nqp::exit(0);
@@ -156,6 +157,7 @@ class CompUnit::PrecompilationRepository::Default does CompUnit::PrecompilationR
         if $*W and $*W.record_precompilation_dependencies {
             for $precomp-unit.dependencies -> $dependency {
                 say $dependency.serialize;
+		$*OUT.flush;
             }
         }
 
-- 
2.20.1

